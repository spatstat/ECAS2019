---
title: "Notes for session 1"
author: "Adrian Baddeley and Ege Rubak"
date: "2019-07-02"
output: html
---

## Introduction

```{r, echo=FALSE, results="hide"}
library(spatstat)
requireversion(spatstat, "1.60-1.005")
```

Spatial data: attributed to spatial location

Three main types of spatial data

* spatial variable (field) eg temperature
* regional aggregate data eg accident counts in each state
* spatial point patterns eg locations of crimes/accidents

```{r, echo=FALSE, results="hide", fig.width=9, fig.height=3, out.width="100%"}
W <- Window(austates)
aW <- area.owin(W)
mu <- function(x,y){ (50+y)/(4*aW) }
XX <- rLGCP("exp", mu, list(var=20/aW, scale=5), win=W)
Lam <- attr(XX, "Lambda")[W, drop=FALSE]
f <- 10 + 30 * (Lam - min(Lam))/diff(range(Lam))
agg <- list(do.labels=TRUE, labels=rpois(7, 20))
plot(solist(f, austates, XX),
     panel.args=function(i, ...) if(i==2) agg else list(),
     main="", main.panel="")
```

This workshop is on spatial point patterns

We will use the _spatstat_ package in _R_

## Spatial point patterns

### Points

Spatial coordinates of locations

### Window

Specify window $W$ where events could have been observed
(this is sometimes a problem)

### Covariates

Explanatory variables

Could be functions $Z(u), \quad u \in W$

Could be other spatial objects which must usually be translated
into spatial functions. 

### Marks

Attributes of the individual events or things
eg type of cell, type of accident

Methodologically different from covariates:
marks are part of the "response", not the "explanatory variable"

### Examples

Some examples where we reinforce the terms introduced above

## Software and data 

### Spatstat

```{r}
library(spatstat)
```

### Data file formats

Data may be provided in many different file formats

* text file, CSV file
* shapefile

Brief pointers on data wrangling

For convenience we will use datasets already installed in _spatstat_


